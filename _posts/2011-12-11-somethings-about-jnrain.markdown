---
author: TheC
comments: true
date: 2011-12-11 12:59:21+00:00
layout: post
slug: somethings-about-jnrain
title: 对听雨的一些吐槽..
wordpress_id: 82
categories:
- 吐槽
---

随着封人、记录删帖这最后几个功能的完成，所有版主管理操作终于全部移植到WEB下了。不管怎么说先撒个花吧，目前可见的工作也算告一段落了。

然后，开始吐槽吧。。。



首先是对前辈的疑问，从我暑假开始重写php界面，到把加精、置顶、锁帖、回收站等等全部经典界面下的功能移植到new，加上重写的整贴删除、改帖子标题、精华区等等杂七八杂的功能，总共也不到一个学期吧。显然以我的懒散性格都是断断续续做着的，实际工作时间，如果按全天做的话最多一周吧？明明都是些如此常用的基本功能，版主们几乎每天都要用到，为什么听雨十年这么多技术就没人花点时间去移植一下呢？听雨拖着明年就要20岁了的telnet界面太久了，就因为那几个必须的功能始终只有T能完成。一年年的人事站务不厌其烦的讲述着T操作，那句“放精华区的操作比较麻烦，一会详细说”我自己做人事站务的时候都说恶心了。。。好在下个学期开始，终于可以跟这些复杂的操作说拜拜了。也算是我们这届站务组送给听雨十周年最大的礼物了吧（笑~

WEB下封人和删帖的记录这两个功能，是大米修改了底层C代码才实现的，关于这个功能的需求似乎每年都被提出来无数次，不知道多少技术曾经尝试去解决过，最后却被大米用短短两个下午的时间全都解决了：）

<p class="image-placeholder">[原图已丢失]</p>

然后是前端了，虽然开始写之前就明白这个工程相当之庞大，也有那么一点决心要把前端的代码彻底换成xhtml 1.1，不过在进行的过程中还是因为代码实在太多太混乱而偷了许多懒。简单的说，有些页面依然使用了原来的table定位，这几个见鬼的页面里php代码和html代码完全混在一起，反正我是没法分辨一个div标签最后在哪里闭合，试着改了几次结果文档结构都乱了也就算了。KBS到底是十年前的代码了，整个程序就是个逻辑和显示混在一起的肉团，读起来那个吃力……诶哟喂。对原有的代码诸多不满之中让我满意的是，显示帖子内容的dispartcle.php，虽然代码混乱的要命，最后还是成功的把一层table以内的代码全部换成了div和p，终于没有原来那种丑陋的table套table再套table的布局了...

新界面里最有技术含量的那就是那个xheditor了。因为之前AC用，所以很自然的也选择了这个编辑器，可是这种复杂js程序我是真心玩不转啊 QAQ 因为xheditor加入表情时是直接插入img标签的，而且除img之外不能带任何参数，而我又找不到代码模式转WYSIWYG模式时解析img标签的代码在哪，现在算是彻底没法区分附件的图片和表情了。点一下表情也会有预览窗口，这……扶额&&泪流满面

说到程序，还有一点很纠结的是，因为听雨的php版本太低，而且技术不敢升级php，居然无法解析/g=css这样的地址，然后就不能用minify的group（再次扶额

<p class="image-placeholder">[原图已丢失]</p>

最后是设计了。作为一枚技术系的阿宅，设计能力真是低下到爆了。虽然勉强也算是开始学习设计，也开始留意访问到的优秀的网站了，但是果然对听雨这种大众化的文字型网站还是完全束手无策啊！ T^T 现在的听雨新界面么，各种意义上的难看、不合理，尤其是色彩的单调相当的严重，虽然这让我非常的不爽，但好像也没什么迅速解决的办法，毕竟听雨论坛上还真找不到什么优秀的网页设计师（或者都是深藏不露？

不过反过来说，这倒是给我留下了很大的发挥空间。既然new界面到目前为止都是我一手制作的，而功能方面又几乎都完成了，下个学期应该有更多的空间来做一些设计上的尝试吧~充满期待：）

<p class="image-placeholder">[原图已丢失]</p>

说到最后，下个学期听雨的既定任务是完成@全站召唤功能。既然提上了日程就稍微想了想实现的方法，意外的发现在提示匹配项阶段还满复杂的样子啊？以前只是用着，还一直觉得似乎只是个普普通的正则匹配+ajax suggest而已。现在气体已经在ubb里加上了最基本的@id解析，期待下个学期的继续完善咯~

到一个学期将要结束，不得不把大把的时间花在读书（你有么？）的时候才意识到，想做的事情很多呀！
